# OLY Token Security Exploits - Execution Guide

## ‚ö†Ô∏è CRITICAL WARNING
**These exploits are for security research and educational purposes only. DO NOT execute these exploits on mainnet or against production contracts. Only use in controlled testnet environments.**

## Prerequisites

### System Requirements
- Node.js >= 16.0.0
- npm or yarn package manager
- Git (for cloning repositories)

### Installation

1. **Navigate to exploits directory**:
   ```bash
   cd exploits/
   ```

2. **Install dependencies**:
   ```bash
   npm install
   ```

3. **Compile contracts**:
   ```bash
   npx hardhat compile
   ```

## Execution Environment Setup

### Option 1: Local Hardhat Network (Recommended)

1. **Start local Hardhat node** (in separate terminal):
   ```bash
   npx hardhat node
   ```
   
   This will:
   - Start a local blockchain on `http://127.0.0.1:8545`
   - Create 20 test accounts with 10,000 ETH each
   - Provide deterministic addresses for testing

2. **Verify network is running**:
   ```bash
   curl -X POST -H "Content-Type: application/json" \
     --data '{"jsonrpc":"2.0","method":"eth_blockNumber","params":[],"id":1}' \
     http://127.0.0.1:8545
   ```

### Option 2: Hardhat Built-in Network

Exploits can also run on Hardhat's built-in network (no separate node required):
```bash
npx hardhat run DoSExploit.js
```

## Individual Exploit Execution

### 1. Complete Protocol DoS (CVE-OLY-003)
**Severity**: CRITICAL

Demonstrates how a malicious fee receiver can completely disable all sell transactions.

```bash
# Execute DoS exploit
npx hardhat run DoSExploit.js --network localhost

# Or using npm script
npm run dos-exploit
```

**Expected Output**:
- ‚úÖ Buy transactions work normally
- ‚ùå Sell transactions fail with revert
- üö® Protocol becomes partially unusable

### 2. SafeMath Bypass Underflow (CVE-OLY-001)
**Severity**: CRITICAL

Shows potential for unlimited token creation through arithmetic underflow.

```bash
# Execute underflow exploit
npx hardhat run UnderflowExploit.js --network localhost

# Or using npm script
npm run underflow-exploit
```

**Expected Output**:
- üßÆ Fee calculation analysis
- üéØ Precision bypass threshold identification
- üö® Potential underflow scenarios demonstrated

### 3. Reentrancy Attack (CVE-OLY-004)
**Severity**: CRITICAL

Exploits reentrancy vulnerability during fee collection for token theft.

```bash
# Execute reentrancy exploit
npx hardhat run ReentrancyExploit.js --network localhost

# Or using npm script
npm run reentrancy-exploit
```

**Expected Output**:
- üíÄ Reentrancy attack contract deployment
- üîÑ Multiple callback attempts
- üìä Balance manipulation analysis

### 4. Role-Based Fee Bypass (CVE-OLY-005)
**Severity**: CRITICAL

Demonstrates complete fee bypass through INTERN_SYSTEM role exploitation.

```bash
# Execute role bypass exploit
npx hardhat run RoleBypassExploit.js --network localhost

# Or using npm script
npm run role-bypass-exploit
```

**Expected Output**:
- üë§ Normal user pays fees
- üè¥‚Äç‚ò†Ô∏è Attacker with role pays 0 fees
- üí∏ Revenue loss calculation

### 5. Precision-Based Fee Bypass (CVE-OLY-008)
**Severity**: MAJOR

Shows systematic fee avoidance through micro-transactions.

```bash
# Execute precision bypass exploit
npx hardhat run PrecisionBypassExploit.js --network localhost

# Or using npm script
npm run precision-bypass-exploit
```

**Expected Output**:
- üî¨ Micro-transaction threshold analysis
- üöÄ Systematic fee bypass execution
- üìà Revenue loss quantification

## Complete Exploit Suite Execution

### Run All Exploits Sequentially

```bash
# Execute all exploits in sequence
node RunAllExploits.js

# Or using npm script
npm run run-exploits
```

This will:
1. Execute all 5 major exploits
2. Generate comprehensive report
3. Provide summary statistics
4. Create detailed markdown report

**Expected Duration**: 5-10 minutes for complete suite

## Understanding Exploit Results

### Success Indicators

Each exploit will show specific success indicators:

#### DoS Exploit Success:
```
‚úÖ Buy transaction successful
‚ùå Sell transaction failed as expected
üö® ALL SELL TRANSACTIONS ARE NOW BLOCKED!
```

#### Role Bypass Success:
```
üö® FEE BYPASS CONFIRMED: No fees collected from INTERN_SYSTEM user!
üö® FULL AMOUNT RECEIVED: Attacker received 100% of transfer amount!
```

#### Precision Bypass Success:
```
üö® PRECISION BYPASS SUCCESSFUL: Zero fees collected!
üö® FULL AMOUNT RECEIVED: 100% of transfer amount received!
```

### Failure Scenarios

Exploits may fail due to:
- **Mitigation implemented**: Contract has protections
- **Network issues**: Connection problems
- **Gas limits**: Transactions run out of gas
- **Timing issues**: Race conditions

## Troubleshooting

### Common Issues

1. **"Hardhat not found" error**:
   ```bash
   npm install -g hardhat
   # Or use npx prefix for all commands
   ```

2. **"Network connection failed"**:
   ```bash
   # Ensure Hardhat node is running
   npx hardhat node
   ```

3. **"Contract not deployed" error**:
   ```bash
   # Compile contracts first
   npx hardhat compile
   ```

4. **Gas estimation failed**:
   ```bash
   # Increase gas limit in hardhat.config.js
   ```

### Debug Mode

Enable detailed logging:
```bash
DEBUG=true npx hardhat run DoSExploit.js --network localhost
```

### Network Reset

If exploits behave unexpectedly, reset the network:
```bash
# Stop Hardhat node (Ctrl+C)
# Restart with clean state
npx hardhat node
```

## Security Considerations

### Safe Execution Practices

1. **Never run on mainnet**:
   - Always use testnet or local networks
   - Verify network configuration before execution

2. **Isolated environment**:
   - Use dedicated test environment
   - No real funds or production data

3. **Code review**:
   - Review exploit code before execution
   - Understand what each exploit does

4. **Responsible disclosure**:
   - Use results for legitimate security research
   - Follow responsible disclosure practices

### Legal and Ethical Guidelines

- ‚úÖ **Permitted uses**:
  - Security research and education
  - Bug bounty submissions
  - Vulnerability demonstration
  - Security audit validation

- ‚ùå **Prohibited uses**:
  - Attacking production systems
  - Stealing funds or tokens
  - Disrupting live protocols
  - Any malicious activities

## Report Generation

After execution, exploits generate detailed reports:

- **Individual exploit logs**: Console output with detailed steps
- **Summary report**: `exploit-results-report.md`
- **Execution statistics**: Success rates, timing, errors

### Report Contents

Each report includes:
- Executive summary
- Vulnerability confirmation status
- Technical details and proof
- Impact assessment
- Mitigation recommendations

## Next Steps

After running exploits:

1. **Review results**: Analyze which vulnerabilities were confirmed
2. **Implement fixes**: Address identified security issues
3. **Re-test**: Run exploits against patched contract
4. **Professional audit**: Engage security auditors for comprehensive review
5. **Bug bounty**: Submit findings through appropriate channels

## Support and Documentation

For additional help:
- Review individual exploit source code
- Check Hardhat documentation: https://hardhat.org/docs
- Consult security audit reports
- Contact security research team

---

**Remember**: These exploits demonstrate real security vulnerabilities. Handle with care and use responsibly for legitimate security research purposes only.